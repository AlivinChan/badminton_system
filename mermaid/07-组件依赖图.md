# 组件依赖图 (Component Dependency Diagram)

```mermaid
graph TB
    subgraph "UI Components 界面组件"
        A1[MainFrame]
        A2[LoginPanel]
        A3[StudentDashboardPanel]
        A4[AdminDashboardPanel]
        A5[ConsoleUI]
    end
    
    subgraph "Service Components 服务组件"
        B1[UserService]
        B2[BookingService]
        B3[CourtService]
        B4[AdminService]
        B5[StatisticsService]
    end
    
    subgraph "Persistence Component 持久化组件"
        C1[JsonDB]
    end
    
    subgraph "Model Components 模型组件"
        D1[Student]
        D2[Admin]
        D3[Court]
        D4[Booking]
        D5[TimeSlot]
        D6[CourtType]
        D7[CourtStatus]
        D8[BookingState]
    end
    
    subgraph "Utility Components 工具组件"
        E1[BusinessException]
        E2[FeePolicy]
        E3[DefaultFeePolicy]
    end
    
    subgraph "Data Files 数据文件"
        F1[students.json]
        F2[admins.json]
        F3[courts.json]
        F4[bookings.json]
    end
    
    %% UI层依赖
    A1 --> A2
    A1 --> A3
    A1 --> A4
    A1 --> B1
    A1 --> B2
    A1 --> B3
    A1 --> B4
    A1 --> B5
    
    A2 --> B1
    A2 --> B4
    
    A3 --> B1
    A3 --> B2
    A3 --> B3
    
    A4 --> B4
    A4 --> B2
    A4 --> B3
    A4 --> B5
    
    A5 --> B1
    A5 --> B2
    A5 --> B3
    A5 --> B4
    
    %% 服务层依赖
    B1 --> C1
    B1 --> D1
    B1 --> E1
    
    B2 --> C1
    B2 --> D4
    B2 --> D5
    B2 --> E1
    B2 --> E2
    
    B3 --> C1
    B3 --> D3
    B3 --> B2
    
    B4 --> C1
    B4 --> D2
    B4 --> D4
    B4 --> E1
    
    B5 --> C1
    B5 --> D4
    
    %% 持久化层依赖
    C1 --> D1
    C1 --> D2
    C1 --> D3
    C1 --> D4
    C1 --> D5
    C1 --> F1
    C1 --> F2
    C1 --> F3
    C1 --> F4
    
    %% 模型层关系
    D4 --> D1
    D4 --> D5
    D3 --> D6
    D3 --> D7
    D4 --> D8
    
    %% 工具层关系
    E3 ..|> E2
    
    style A1 fill:#e1f5ff
    style A2 fill:#e1f5ff
    style A3 fill:#e1f5ff
    style A4 fill:#e1f5ff
    style A5 fill:#e1f5ff
    style B1 fill:#fff4e1
    style B2 fill:#fff4e1
    style B3 fill:#fff4e1
    style B4 fill:#fff4e1
    style B5 fill:#fff4e1
    style C1 fill:#e8f5e9
    style D1 fill:#f3e5f5
    style D2 fill:#f3e5f5
    style D3 fill:#f3e5f5
    style D4 fill:#f3e5f5
    style D5 fill:#f3e5f5
    style E1 fill:#fff9c4
    style E2 fill:#fff9c4
    style E3 fill:#fff9c4
    style F1 fill:#ffebee
    style F2 fill:#ffebee
    style F3 fill:#ffebee
    style F4 fill:#ffebee
```

